<div class="container-fluid d-flex justify-content-center align-items-center" *ngIf="loading">
    <img class="img-loader" src="./assets/loading.svg" >
</div>

<div *ngIf="!loading">
  <div *ngIf="popularMovies" class="container-fluid head text-center" [ngStyle]="{
    'background-image': 'url(' + pathImg + ')'}">
  <div class="container d-flex flex-column justify-content-center h-100">
      <h5>Más <mark>Popular</mark></h5>
      <h1 class="title" *ngIf="popularMovies">{{popularMovies[0].title}}</h1>
        <div class="row justify-content-center">
          <div class="col-md-7">
              <div *ngIf="popularMovies">
                <div class="rating" *ngIf="(popularMovies[0].vote_average | number:'.0-0') == '0'">
                  <i class="far fa-star" aria-hidden="true"></i><br>
                  <span>{{popularMovies[0].vote_average}}/10</span>
                </div>

                <div class="rating" *ngIf="(popularMovies[0].vote_average | number:'.0-0') == '2' || (popularMovies[0].vote_average | number:'.0-0') == '1'">
                  <i class="fas fa-star-half-alt" aria-hidden="true"></i><br>
                  <span>{{popularMovies[0].vote_average}}/10</span>
                </div>

                <div class="rating" *ngIf="(popularMovies[0].vote_average | number:'.0-0') == '4' || (popularMovies[0].vote_average | number:'.0-0') == '3'">
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i><br>
                  <span>{{popularMovies[0].vote_average}}/10</span>
                </div>

                <div class="rating" *ngIf="(popularMovies[0].vote_average | number:'.0-0') == '5' || (popularMovies[0].vote_average | number:'.0-0') == '6'">
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i><br>
                  <span>{{popularMovies[0].vote_average}}/10</span>
                </div>

                <div class="rating" *ngIf="(popularMovies[0].vote_average | number:'.0-0') == '7'">
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i>
                    <i class="fa fa-star" aria-hidden="true"></i> <br>
                    <span>{{popularMovies[0].vote_average}}/10</span>
                </div>

                <div class="rating" *ngIf="(popularMovies[0].vote_average | number:'.0-0') == '8' || (popularMovies[0].vote_average | number:'.0-0') == '9'">
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fa fa-star" aria-hidden="true"></i>
                  <i class="fas fa-star-half-alt" aria-hidden="true"></i> <br>
                  <span>{{popularMovies[0].vote_average}}/10</span>
              </div>

              <div class="rating" *ngIf="(popularMovies[0].vote_average | number:'.0-0') == '10'">
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i>
                <i class="fa fa-star" aria-hidden="true"></i> <br>
                <span>{{popularMovies[0].vote_average}}/10</span>
              </div>
              </div>

              <a class="btn btn-info btn-lg" (click)="goToCartelera()">Ver películas en cartelera</a>
            </div>
        </div>
      </div>
  </div>

  <div class="container mb-5">
      <br>
      <app-galeria #cartelera [movies]="nowPlayingMovies | slice:0:6" titulo="Películas en cartelera"></app-galeria>
      <app-galeria [movies]="popularMovies | slice:0:6" titulo="Películas populares"></app-galeria>
      <app-galeria [movies]="kids | slice:0:6" titulo="Películas populares para niños"></app-galeria>

  </div>
</div>